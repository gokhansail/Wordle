using System;
using System.Windows.Forms;
using Kitware.VTK;

namespace vtkDenemeler
{
    public partial class mainForm : Form
    {
        private vtkRenderWindowControl renderWindowControl;

        public mainForm()
        {
            InitializeComponent();
            InitializeVTKRenderWindow();
            DrawCube();
        }

        private void InitializeVTKRenderWindow()
        {
            renderWindowControl = new vtkRenderWindowControl
            {
                Dock = DockStyle.Fill
            };
            this.Controls.Add(renderWindowControl);
        }

        private void DrawCube()
        {
            vtkUnstructuredGrid grid = CreateCubeUnstructuredGrid();
            vtkActor actor = CreateActorFromGrid(grid);
            SetupRenderer(actor);
        }

        private vtkUnstructuredGrid CreateCubeUnstructuredGrid()
        {
            // 8 köşe noktası
            double[,] nodeCoords = new double[8, 3]
            {
                { 0, 0, 0 }, { 1, 0, 0 }, { 1, 1, 0 }, { 0, 1, 0 },
                { 0, 0, 1 }, { 1, 0, 1 }, { 1, 1, 1 }, { 0, 1, 1 }
            };

            vtkPoints points = vtkPoints.New();
            for (int i = 0; i < 8; i++)
                points.InsertNextPoint(nodeCoords[i, 0], nodeCoords[i, 1], nodeCoords[i, 2]);

            vtkHexahedron hex = vtkHexahedron.New();
            for (int i = 0; i < 8; i++)
                hex.GetPointIds().SetId(i, i); // Nokta sıralaması önemli

            vtkUnstructuredGrid grid = vtkUnstructuredGrid.New();
            grid.SetPoints(points);
            grid.InsertNextCell(hex.GetCellType(), hex.GetPointIds());

            return grid;
        }

        private vtkActor CreateActorFromGrid(vtkUnstructuredGrid grid)
        {
            vtkDataSetMapper mapper = vtkDataSetMapper.New();
            mapper.SetInput(grid);

            vtkActor actor = vtkActor.New();
            actor.SetMapper(mapper);
            actor.GetProperty().SetColor(1.0, 0.6, 0.2); // Turuncumsu renk

            return actor;
        }

        private void SetupRenderer(vtkActor actor)
        {
            vtkRenderer renderer = vtkRenderer.New();
            renderer.AddActor(actor);
            renderer.SetBackground(0.1,
