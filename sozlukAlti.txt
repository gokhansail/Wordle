using Kitware.VTK;
using System;

class Program
{
    static void Main(string[] args)
    {
        // 1. Node'lar (8 köşe, küpün köşe noktaları)
        double[,] nodeCoords = new double[8, 3]
        {
            { 0, 0, 0 }, // Node 0
            { 1, 0, 0 }, // Node 1
            { 1, 1, 0 }, // Node 2
            { 0, 1, 0 }, // Node 3
            { 0, 0, 1 }, // Node 4
            { 1, 0, 1 }, // Node 5
            { 1, 1, 1 }, // Node 6
            { 0, 1, 1 }  // Node 7
        };

        // 2. vtkPoints oluştur
        vtkPoints points = vtkPoints.New();
        for (int i = 0; i < 8; i++)
        {
            points.InsertNextPoint(nodeCoords[i, 0], nodeCoords[i, 1], nodeCoords[i, 2]);
        }

        // 3. vtkHexahedron (8 node ile)
        vtkHexahedron hex = vtkHexahedron.New();
        for (int i = 0; i < 8; i++)
        {
            hex.GetPointIds().SetId(i, i); // ID sırası: 0'dan 7'ye
        }

        // 4. CellArray içine elemanı ekle
        vtkCellArray hexs = vtkCellArray.New();
        hexs.InsertNextCell(hex);

        // 5. PolyData değil, UnstructuredGrid kullanıyoruz çünkü hexahedron!
        vtkUnstructuredGrid ugrid = vtkUnstructuredGrid.New();
        ugrid.SetPoints(points);
        ugrid.InsertNextCell(hex.GetCellType(), hex.GetPointIds());

        // 6. Mapper ve Actor
        vtkDataSetMapper mapper = vtkDataSetMapper.New();
        mapper.SetInput(ugrid);

        vtkActor actor = vtkActor.New();
        actor.SetMapper(mapper);

        // 7. Renderer ve Render Window
        vtkRenderer renderer = vtkRenderer.New();
        renderer.AddActor(actor);
        renderer.SetBackground(0.2, 0.3, 0.4); // Gri-mavi arası bir zemin

        vtkRenderWindow renderWindow = vtkRenderWindow.New();
        renderWindow.AddRenderer(renderer);
        renderWindow.SetSize(600, 600);

        vtkRenderWindowInteractor interactor = vtkRenderWindowInteractor.New();
        interactor.SetRenderWindow(renderWindow);

        // Başlat
        renderWindow.Render();
        interactor.Start();
    }
}
